<idea-plugin>
    <id>com.testbuddy</id>
    <name>TestBuddy</name>
    <vendor>TestBuddy</vendor>

    <!-- Product and plugin compatibility requirements -->
    <!-- https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <projectService serviceImplementation="com.testbuddy.services.LoadTestsService"/>
        <projectService serviceImplementation="com.testbuddy.services.DuplicateTestsService"/>
        <projectService serviceImplementation="com.testbuddy.services.MethodAnalyzerService"/>
        <projectService serviceImplementation="com.testbuddy.services.GotoTestService"/>
        <projectService serviceImplementation="com.testbuddy.services.GenerateTestCaseChecklistService"/>
        <projectService serviceImplementation="com.testbuddy.services.AssertionSuggestionService"/>
        <projectService serviceImplementation="com.testbuddy.services.ChecklistTreeService"/>
    </extensions>

    <!-- Extension point for Main User Interface-->

    <extensions defaultExtensionNs="com.intellij">

        <toolWindow id="TestBuddy" secondary="true" icon="AllIcons.General.Modified" anchor="right"
                    factoryClass="com.testbuddy.views.UserInterfaceFactory"/>
    </extensions>


    <actions>
        <!---Actions in CopyPaste tab -->
        <action id="LoadTestAction" class="com.testbuddy.views.actions.testcases.LoadTestAction"
                text="Load Test Cases from Current File"
                description="Loads all the test cases from the current open file in the editor"
                icon="AllIcons.Actions.Refresh">
            <keyboard-shortcut first-keystroke="control alt A" second-keystroke="D" keymap="$default"/>
        </action>
        <action id="ClearTestAction" class="com.testbuddy.views.actions.testcases.ClearTestAction"
                text="Clear Test Cases UI"
                description="Clears the tree which holds all the test case information."
                icon="AllIcons.General.Remove">
            <keyboard-shortcut first-keystroke="control alt C" second-keystroke="D" keymap="$default"/>
        </action>
        <!---Actions in CheckList tab -->
        <action id="checklistAction" class="com.testbuddy.views.actions.LoadChecklistAction"
                text="Load Checklist for Class from Current File" description="Adds a new template test case."
                icon="AllIcons.Actions.Refresh">
            <keyboard-shortcut first-keystroke="control alt A" second-keystroke="G" keymap="$default"/>
        </action>
        <action id="ClearChecklistAction" class="com.testbuddy.views.actions.ClearChecklistAction"
                text="Clear Checklist UI"
                description="Clears the tree which holds all the checklist information."
                icon="AllIcons.General.Remove">
            <keyboard-shortcut first-keystroke="control alt C" second-keystroke="G" keymap="$default"/>
        </action>
        <!---Actions for hotkeys-->
        <action id="DuplicateTestAction" class="com.testbuddy.views.actions.testcases.DuplicateTestUnderCaretAction"
                text="Duplicate Test Under Caret"
                description="Duplicates the test under caret of the current open file">
            <keyboard-shortcut first-keystroke="control shift D" keymap="$default"/>
        </action>
        <action id="GenerateChecklistAction" class="com.testbuddy.views.actions.GenerateChecklistUnderCaretAction"
                text="Generate Checklist for Method/Class Under Caret"
                description="Generates the checklist for the method/class under caret of the current open file.">
            <keyboard-shortcut first-keystroke="control shift G" keymap="$default"/>
        </action>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <intentionAction>
            <className>com.testbuddy.views.actions.AssertionSuggestionsAction</className>
            <category>TestBuddy intentions</category>

        </intentionAction>
    </extensions>




    <actions>
        <action id="com.testbuddy.TestAction" class="com.testbuddy.TestAction" text="Test Action"/>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="com.testbuddy.views.actions.ChecklistClassLineMarkerProvider"
        />

        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="com.testbuddy.views.actions.ChecklistMethodLineMarkerProvider"
        />
    </extensions>

</idea-plugin>
