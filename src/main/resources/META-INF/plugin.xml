<idea-plugin>
    <id>com.testbuddy</id>
    <name>TestBuddy</name>
    <vendor>TestBuddy</vendor>

    <!-- Product and plugin compatibility requirements -->
    <!-- https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <projectService serviceImplementation="com.testbuddy.services.LoadTestsService"/>
        <projectService serviceImplementation="com.testbuddy.services.DuplicateTestsService"/>
        <projectService serviceImplementation="com.testbuddy.services.MethodAnalyzerService"/>
        <projectService serviceImplementation="com.testbuddy.services.GotoTestService"/>
        <projectService serviceImplementation="com.testbuddy.services.GenerateTestCaseChecklistService"/>
    </extensions>

    <!-- Extension point for Main User Interface-->

    <extensions defaultExtensionNs="com.intellij">

        <toolWindow id="TestBuddy" secondary="true" icon="AllIcons.General.Modified" anchor="right"
                    factoryClass="com.testbuddy.views.UserInterfaceFactory"/>
    </extensions>


    <actions>
        <!---Action in CopyPaste tab which updates the CopyPaste UI -->
        <action id="LoadTestAction" class="com.testbuddy.views.actions.LoadTestAction"
                text="Load Test Cases from Current File"
                description="Loads all the test cases from the current open file in the editor"
                icon="AllIcons.Actions.Refresh">
            <keyboard-shortcut first-keystroke="control alt A" second-keystroke="C" keymap="$default"/>
            <mouse-shortcut keystroke="control button3 doubleClick" keymap="$default"/>
        </action>
        <action id="checklistAction" class="com.testbuddy.views.actions.LoadChecklistAction"
                text="Add New Test Cases" description="Adds a new template test case."
                icon="AllIcons.General.Add">
            <keyboard-shortcut first-keystroke="control alt A" second-keystroke="B" keymap="$default"/>
            <mouse-shortcut keystroke="control button3 doubleClick" keymap="$default"/>
        </action>
        <action id="DuplicateTestAction" class="com.testbuddy.views.actions.DuplicateTestUnderCaretAction"
                text="Duplicate Test Under Caret"
                description="Duplicates the test under caret of the current open file">
            <keyboard-shortcut first-keystroke="control shift D" keymap="$default"/>
        </action>
    </actions>


    <actions>
        <action id="com.testbuddy.TestAction" class="com.testbuddy.TestAction" text="Test Action"/>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="com.testbuddy.views.actions.ChecklistClassLineMarkerProvider"
        />

        <codeInsight.lineMarkerProvider language="JAVA"
                                        implementationClass="com.testbuddy.views.actions.ChecklistMethodLineMarkerProvider"
        />
    </extensions>

</idea-plugin>
